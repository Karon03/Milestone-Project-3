{"version":3,"sources":["pages/Home.js","context/CurrentUser.js","pages/Login.js","components/User.js","components/Form.js","components/TransactionList.js","pages/Signup.js","pages/Dashboard.js","pages/Error404.js","App.js","reportWebVitals.js","index.js"],"names":["styles","container","textAlign","padding","backgroundColor","buttons","margin","button","textDecoration","color","borderRadius","fontSize","Home","_jsxs","children","style","_jsx","Link","to","process","CurrentUser","createContext","CurrentUserProvider","_ref","currentUser","setCurrentUser","useState","useEffect","async","token","localStorage","getItem","console","error","log","response","fetch","headers","ok","Error","status","statusText","user","json","message","getLoggedInUser","Provider","value","Login","email","setEmail","password","setPassword","setError","success","setSuccess","navigate","useNavigate","useContext","className","onSubmit","e","preventDefault","credentials","method","body","JSON","stringify","setItem","profileResponse","userProfile","errMsg","type","onChange","target","required","User","username","Form","onAddTransaction","setType","category","setCategory","amount","setAmount","date","setDate","parseFloat","alert","placeholder","TransactionList","transactions","length","map","transaction","index","toFixed","Date","toLocaleDateString","account_id","Signup","setUsername","confirmPassword","setConfirmPassword","userData","Dashboard","accountId","undefined","income","setIncome","transactionAmount","setTransactionAmount","transactionsList","setTransactionsList","data","Array","isArray","fetchTransactions","toISOString","newTransaction","prev","tran","transaction_id","Error404","src","alt","App","Router","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4987eea.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import '../Dakota-Frontend/landing.css'  put css in public folder to import\r\n// Need to import our styles so we can delete all this below\r\nconst styles = {\r\n  container: {\r\n    textAlign: 'center',\r\n    padding: '20px',\r\n    backgroundColor: '#9c88ff'// Example background color\r\n  },\r\n  buttons: {\r\n    margin: '20px 0',\r\n  },\r\n  button: {\r\n    textDecoration: 'none',\r\n    padding: '10px 20px',\r\n    color: '#fff',\r\n    backgroundColor: '#007bff',\r\n    borderRadius: '5px',\r\n    margin: '5px',\r\n    fontSize: '16px',\r\n  },\r\n};\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div>\r\n      <div style={styles.buttons}>\r\n        <Link to=\"/login\" style={styles.button}>\r\n          Log In\r\n        </Link>\r\n        <Link to=\"/signup\" style={styles.button}>\r\n          Sign Up\r\n        </Link>\r\n        <div>\r\n          Server URL: {process.env.REACT_APP_SERVER_URL}\r\n        </div>\r\n      </div>\r\n      \r\n      <p>Already have an account? <Link to=\"/login\">Log in here</Link></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useEffect, createContext, useState } from \"react\";\r\n\r\nexport const CurrentUser = createContext();\r\n\r\nfunction CurrentUserProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const getLoggedInUser = async () => {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (!token) {\r\n                    console.error('No token found');\r\n                    return;\r\n                }\r\n                console.log(token)\r\n                const response = await fetch('http://localhost:5000/authentication/profile', {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(`Error: ${response.status} ${response.statusText}`);\r\n                }\r\n\r\n                const user = await response.json();\r\n                setCurrentUser(user);\r\n            } catch (error) {\r\n                console.error('Error fetching user profile:', error.message || error);\r\n            }\r\n        };\r\n        getLoggedInUser();\r\n    }, []);\r\n\r\n    return (\r\n        <CurrentUser.Provider value={{ currentUser, setCurrentUser }}>\r\n            {children}\r\n        </CurrentUser.Provider>\r\n    );\r\n}\r\n\r\nexport default CurrentUserProvider;\r\n","// import React, { useState } from 'react';\r\n// import { useNavigate, Link } from 'react-router-dom'; // Use Link instead of <a> tag\r\n\r\n// const Login = () => {\r\n//   const [email, setEmail] = useState('');\r\n//   const [password, setPassword] = useState('');\r\n//   const [errorMessage, setErrorMessage] = useState('');\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n    \r\n//     const credentials = { email, password };\r\n\r\n//     try {\r\n//       const response = await fetch('http://localhost:5000/api/login', {\r\n//         method: 'POST',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify(credentials),\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         throw new Error('Login failed, please check your credentials');\r\n//       }\r\n\r\n//       // On success, navigate to the dashboard or home\r\n//       navigate('/dashboard');\r\n//     } catch (error) {\r\n//       setErrorMessage(error.message);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Login to Your Account</h2>\r\n//       {errorMessage && <p>{errorMessage}</p>}\r\n//       <form onSubmit={handleSubmit}>\r\n//         <div>\r\n//           <label htmlFor=\"email\">Email</label>\r\n//           <input\r\n//             type=\"email\"\r\n//             id=\"email\"\r\n//             value={email}\r\n//             onChange={(e) => setEmail(e.target.value)}\r\n//             required\r\n//           />\r\n//         </div>\r\n//         <div>\r\n//           <label htmlFor=\"password\">Password</label>\r\n//           <input\r\n//             type=\"password\"\r\n//             id=\"password\"\r\n//             value={password}\r\n//             onChange={(e) => setPassword(e.target.value)}\r\n//             required\r\n//           />\r\n//         </div>\r\n//         <button type=\"submit\">Login</button>\r\n//       </form>\r\n//       <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p> {/* Use Link here */}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Login;\r\n\r\nimport React, { useState, useContext } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { CurrentUser } from '../context/CurrentUser';  // Import the CurrentUser context\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { setCurrentUser } = useContext(CurrentUser);  // Destructure setCurrentUser from the context\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    const credentials = { email, password };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/accounts/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(credentials),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        const token = data.token;  // Assuming the response contains the token\r\n\r\n        // Save the token in localStorage\r\n        localStorage.setItem('token', token);\r\n\r\n        // Fetch the user profile using the token\r\n        const profileResponse = await fetch('http://localhost:5000/authentication/profile', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!profileResponse.ok) {\r\n          throw new Error('Failed to fetch user profile');\r\n        }\r\n\r\n        const userProfile = await profileResponse.json();\r\n\r\n        // Set the current user in the context\r\n        setCurrentUser(userProfile);\r\n\r\n        setSuccess(true);\r\n\r\n        // Navigate to the dashboard after successful login\r\n        navigate('/dashboard');\r\n      } else {\r\n        const errMsg = await response.json();\r\n        setError(errMsg.error || 'Login failed, please check your credentials.');\r\n      }\r\n    } catch (error) {\r\n      setError('An error occurred during login.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login to Your Account</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {success ? (\r\n        <p className=\"success\">Login successful! Redirecting...</p>\r\n      ) : (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <label>Email:</label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Password:</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\">Login</button>\r\n        </form>\r\n      )}\r\n      <p>Don't have an account? <Link to=\"/signup\">Sign Up</Link></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst User = ({ user }) => {\r\n  if (!user) {\r\n    return <p>No user data available</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>User Profile</h2>\r\n      <div>\r\n        <strong>Username:</strong> {user.username}\r\n      </div>\r\n      <div>\r\n        <strong>Email:</strong> {user.email}\r\n      </div>\r\n      {/* Add more user-related details here if needed */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n\r\n// this is the account ","import React, { useState } from 'react';\r\n\r\nconst Form = ({ onAddTransaction }) => {\r\n  \r\n  const [type, setType] = useState('income');\r\n  const [category, setCategory] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [date, setDate] = useState('');\r\n\r\n \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n   \r\n    if (!category || !amount || !date) {\r\n      alert('Please fill out all fields');\r\n      return;\r\n    }\r\n\r\n     \r\n    onAddTransaction({\r\n      type,\r\n      category,\r\n      amount: parseFloat(amount),\r\n      date\r\n    });\r\n\r\n    // Clear form after submission\r\n    setCategory('');\r\n    setAmount('');\r\n    setDate('');\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label>Type:</label>\r\n        <select value={type} onChange={(e) => setType(e.target.value)}>\r\n          <option value=\"income\">Income</option>\r\n          <option value=\"expense\">Expense</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div>\r\n        <label>Category:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={category}\r\n          onChange={(e) => setCategory(e.target.value)}\r\n          placeholder=\"Category\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label>Amount:</label>\r\n        <input\r\n          type=\"number\"\r\n          value={amount}\r\n          onChange={(e) => setAmount(e.target.value)}\r\n          placeholder=\"Amount\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label>Date:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\">Add Transaction</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nconst TransactionList = ({ transactions }) => {\r\n  if (!transactions.length) {\r\n    return <p>No transactions found</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Transaction History</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Type</th>\r\n            <th>Category</th>\r\n            <th>Amount</th>\r\n            <th>Date</th>\r\n            <th>Account</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {transactions.map((transaction, index) => (\r\n            <tr key={index}>\r\n              <td>{transaction.type}</td>\r\n              <td>{transaction.category}</td>\r\n              <td>${transaction.amount.toFixed(2)}</td>\r\n              <td>{new Date(transaction.date).toLocaleDateString()}</td>\r\n              <td>{transaction.account_id}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","// signup is still in progress\r\nimport React, { useState } from 'react';\r\n\r\nconst Signup = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (password !== confirmPassword) {\r\n            setError('Passwords do not match.');\r\n            return;\r\n        }\r\n\r\n        const userData = {\r\n            username,\r\n            email,\r\n            password\r\n        };\r\n\r\n        try {\r\n            // Fetch call to backend for signup\r\n            const response = await fetch('http://localhost:5000/accounts/signup', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(userData)\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSuccess(true);\r\n            } else {\r\n                const errMsg = await response.json();\r\n                setError(errMsg.error || 'Signup failed.');\r\n            }\r\n        } catch (error) {\r\n            setError('An error occurred during signup.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"signup-container\">\r\n            <h2>Sign Up</h2>\r\n            {error && <p className=\"error\">{error}</p>}\r\n            {success ? (\r\n                <p className=\"success\">Signup successful! Please log in.</p>\r\n            ) : (\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <label>Username:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label>Email:</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label>Password:</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label>Confirm Password:</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={confirmPassword}\r\n                            onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\">Sign Up</button>\r\n                </form>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","\r\n// track\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {CurrentUser} from '../context/CurrentUser';\r\n\r\nconst Dashboard = () => {\r\n  const {currentUser} = useContext(CurrentUser);\r\n  const accountId = undefined\r\n  const [income, setIncome] = useState('');\r\n  const [transactionAmount, setTransactionAmount] = useState('');\r\n  const [transactionsList, setTransactionsList] = useState([]);  // Initialize as an empty array\r\n\r\n  // Fetch transactions from the backend \r\n  // fetch token before making the call \r\n  useEffect(() => {\r\n    const fetchTransactions = async () => {\r\n      if (!currentUser) {\r\n        console.error('User not logged in');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // need to pass bearer token with url\r\n        const response = await fetch(`http://localhost:5000/transactions/${accountId}`);\r\n        const data = await response.json();\r\n        \r\n        // Ensure that the data is an array before setting state\r\n        if (Array.isArray(data)) {\r\n          setTransactionsList(data);\r\n        } else {\r\n          console.error(\"Expected array, but got:\", data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching transactions:', error);\r\n      }\r\n    };\r\n\r\n    fetchTransactions();\r\n  }, [accountId]);\r\n\r\n  const handleIncomeChange = (e) => {\r\n    setIncome(e.target.value);\r\n  };\r\n\r\n  const handleTransactionChange = (e) => {\r\n    \r\n    setTransactionAmount(e.target.value);\r\n  };\r\n\r\n  // Handle adding a new transaction\r\n  const handleAddTransaction = async (e) => {\r\n    e.preventDefault();\r\n    if (transactionAmount) {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/transactions', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            account_id: accountId, // Include accountId to associate the transaction\r\n            type: 'expense', // Assuming you're adding an expense; can be dynamic\r\n            category: 'General', // Can be dynamic based on user input\r\n            amount: parseFloat(transactionAmount), // Ensure it's a float\r\n            date: new Date().toISOString(), // Set the current date\r\n          }),\r\n        });\r\n\r\n        if (response.ok) {\r\n          const newTransaction = await response.json();\r\n          setTransactionsList((prev) => [...prev, newTransaction]); // Add new transaction to the list\r\n          setTransactionAmount(''); // Reset input field\r\n        } else {\r\n          console.error('Error adding transaction', e);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error adding transaction:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Dashboard</h2>\r\n\r\n      <div>\r\n        <h3>Input Your Income</h3>\r\n        <input\r\n          type=\"number\"\r\n          value={income}\r\n          onChange={handleIncomeChange}\r\n          placeholder=\"Enter your income here\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <h3>Log Your Transactions</h3>\r\n        <form onSubmit={handleAddTransaction}>\r\n          <input\r\n            type=\"number\"\r\n            value={transactionAmount}\r\n            onChange={handleTransactionChange}\r\n            placeholder=\"Enter a transaction amount\"\r\n            required\r\n          />\r\n          <button type=\"submit\">Add Transaction</button>\r\n        </form>\r\n      </div>\r\n\r\n      <h4>Transactions List</h4>\r\n      <ul>\r\n        {/* Check if transactionsList is an array before mapping */}\r\n        {Array.isArray(transactionsList) && transactionsList.length > 0 ? (\r\n          transactionsList.map((tran) => (\r\n            <li key={tran.transaction_id}>\r\n              ${tran.amount.toFixed(2)} - {tran.category} ({tran.type})\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <p>No transactions found.</p>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","function Error404() {\r\n    return (\r\n        <main>\r\n            <h1>404: PAGE NOT FOUND</h1>\r\n            <p>Oops, sorry, we can't find this page!</p>\r\n            <img src=\"http://localhost:5000/images/kittykat.jpeg\" alt=\"cute cat pic\" />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Error404;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport User from './components/User';\r\nimport Form from './components/Form';\r\nimport TransactionList from './components/TransactionList';\r\nimport CurrentUserProvider from './context/CurrentUser';\r\nimport Signup from './pages/Signup';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Error404 from './pages/Error404';\r\nimport './style.css'\r\n\r\nfunction App() {\r\n  return (\r\n    <CurrentUserProvider>\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/user\" element={<User />} />\r\n          <Route path=\"/form\" element={<Form />} />\r\n          <Route path=\"/dashboard\" element={<Dashboard />} />\r\n          <Route path=\"/transactionlist\" element={<TransactionList />} />\r\n          <Route path=\"/signup\" element={<Signup />} />\r\n          <Route path=\"*\" element={<Error404 />} />\r\n        </Routes>\r\n      </Router>\r\n    </CurrentUserProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}