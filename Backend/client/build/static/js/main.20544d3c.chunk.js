(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,c){},13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(5),a=c.n(s),i=(c(11),c(4)),o=c(3),j=c(1);const l={container:{textAlign:"center",padding:"20px",backgroundColor:"#9c88ff"},buttons:{margin:"20px 0"},button:{textDecoration:"none",padding:"10px 20px",color:"#fff",backgroundColor:"#007bff",borderRadius:"5px",margin:"5px",fontSize:"16px"}};var d=()=>Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{style:l.buttons,children:[Object(j.jsx)(i.b,{to:"/login",style:l.button,children:"Log In"}),Object(j.jsx)(i.b,{to:"/signup",style:l.button,children:"Sign Up"}),Object(j.jsxs)("div",{children:["Server URL: ","/"]})]}),Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)(i.b,{to:"/login",children:"Log in here"})]})]});var b=()=>{const[e,t]=Object(n.useState)(""),[c,r]=Object(n.useState)(""),[s,a]=Object(n.useState)(""),[l,d]=Object(n.useState)(!1),b=Object(o.o)();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Login to Your Account"}),s&&Object(j.jsx)("p",{className:"error",children:s}),l?Object(j.jsx)("p",{className:"success",children:"Login successful! Redirecting..."}):Object(j.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a("");const n={email:e,password:c};try{const e=await fetch("http://localhost:5000/accounts/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(e.ok)d(!0),b("/dashboard");else{const t=await e.json();a(t.error||"Login failed, please check your credentials.")}}catch(s){a("An error occurred during login.")}},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Email:"}),Object(j.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password:"}),Object(j.jsx)("input",{type:"password",value:c,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsx)("button",{type:"submit",children:"Login"})]}),Object(j.jsxs)("p",{children:["Don't have an account? ",Object(j.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})};var h=e=>{let{user:t}=e;return t?Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"User Profile"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Username:"})," ",t.username]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:"Email:"})," ",t.email]})]}):Object(j.jsx)("p",{children:"No user data available"})};var u=e=>{let{onAddTransaction:t}=e;const[c,r]=Object(n.useState)("income"),[s,a]=Object(n.useState)(""),[i,o]=Object(n.useState)(""),[l,d]=Object(n.useState)("");return Object(j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&i&&l?(t({type:c,category:s,amount:parseFloat(i),date:l}),a(""),o(""),d("")):alert("Please fill out all fields")},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Type:"}),Object(j.jsxs)("select",{value:c,onChange:e=>r(e.target.value),children:[Object(j.jsx)("option",{value:"income",children:"Income"}),Object(j.jsx)("option",{value:"expense",children:"Expense"})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Category:"}),Object(j.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Category",required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Amount:"}),Object(j.jsx)("input",{type:"number",value:i,onChange:e=>o(e.target.value),placeholder:"Amount",required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Date:"}),Object(j.jsx)("input",{type:"date",value:l,onChange:e=>d(e.target.value),required:!0})]}),Object(j.jsx)("button",{type:"submit",children:"Add Transaction"})]})};var O=e=>{let{transactions:t}=e;return t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Transaction History"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Category"}),Object(j.jsx)("th",{children:"Amount"}),Object(j.jsx)("th",{children:"Date"}),Object(j.jsx)("th",{children:"Account"})]})}),Object(j.jsx)("tbody",{children:t.map(((e,t)=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.type}),Object(j.jsx)("td",{children:e.category}),Object(j.jsxs)("td",{children:["$",e.amount.toFixed(2)]}),Object(j.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),Object(j.jsx)("td",{children:e.account_id})]},t)))})]})]}):Object(j.jsx)("p",{children:"No transactions found"})};const x=Object(n.createContext)();var p=function(e){let{children:t}=e;const[c,r]=Object(n.useState)(null);return Object(n.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void console.error("No token found");console.log(e);const t=await fetch("http://localhost:5000/authentication/profile",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`Error: ${t.status} ${t.statusText}`);const c=await t.json();r(c)}catch(e){console.error("Error fetching user profile:",e.message||e)}})()}),[]),Object(j.jsx)(x.Provider,{value:{currentUser:c,setCurrentUser:r},children:t})};var g=()=>{const[e,t]=Object(n.useState)(""),[c,r]=Object(n.useState)(""),[s,a]=Object(n.useState)(""),[i,o]=Object(n.useState)(""),[l,d]=Object(n.useState)(""),[b,h]=Object(n.useState)(!1);return Object(j.jsxs)("div",{className:"signup-container",children:[Object(j.jsx)("h2",{children:"Sign Up"}),l&&Object(j.jsx)("p",{className:"error",children:l}),b?Object(j.jsx)("p",{className:"success",children:"Signup successful! Please log in."}):Object(j.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(""),s!==i)return void d("Passwords do not match.");const n={username:e,email:c,password:s};try{const e=await fetch("http://localhost:5000/accounts/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(e.ok)h(!0);else{const t=await e.json();d(t.error||"Signup failed.")}}catch(l){d("An error occurred during signup.")}},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Username:"}),Object(j.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Email:"}),Object(j.jsx)("input",{type:"email",value:c,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password:"}),Object(j.jsx)("input",{type:"password",value:s,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Confirm Password:"}),Object(j.jsx)("input",{type:"password",value:i,onChange:e=>o(e.target.value),required:!0})]}),Object(j.jsx)("button",{type:"submit",children:"Sign Up"})]})]})};var v=e=>{let{accountId:t}=e;const[c,r]=Object(n.useState)(""),[s,a]=Object(n.useState)(""),[i,o]=Object(n.useState)([]);Object(n.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5000/transactions/"),t=await e.json();Array.isArray(t)?o(t):console.error("Expected array, but got:",t)}catch(e){console.error("Error fetching transactions:",e)}})()}),[t]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Dashboard"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Input Your Income"}),Object(j.jsx)("input",{type:"number",value:c,onChange:e=>{r(e.target.value)},placeholder:"Enter your income here"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Log Your Transactions"}),Object(j.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s)try{const e=await fetch("http://localhost:5000/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account_id:t,type:"expense",category:"General",amount:parseFloat(s),date:(new Date).toISOString()})});if(e.ok){const t=await e.json();o((e=>[...e,t])),a("")}else console.error("Error adding transaction")}catch(c){console.error("Error adding transaction:",c)}},children:[Object(j.jsx)("input",{type:"number",value:s,onChange:e=>{a(e.target.value)},placeholder:"Enter a transaction amount",required:!0}),Object(j.jsx)("button",{type:"submit",children:"Add Transaction"})]})]}),Object(j.jsx)("h4",{children:"Transactions List"}),Object(j.jsx)("ul",{children:Array.isArray(i)&&i.length>0?i.map((e=>Object(j.jsxs)("li",{children:["$",e.amount.toFixed(2)," - ",e.category," (",e.type,")"]},e.transaction_id))):Object(j.jsx)("p",{children:"No transactions found."})})]})};var m=function(){return Object(j.jsxs)("main",{children:[Object(j.jsx)("h1",{children:"404: PAGE NOT FOUND"}),Object(j.jsx)("p",{children:"Oops, sorry, we can't find this page!"}),Object(j.jsx)("img",{src:"http://localhost:5000/images/kittykat.jpeg",alt:"cute cat pic"})]})};c(13);var y=function(){return Object(j.jsx)(p,{children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(d,{})}),Object(j.jsx)(o.a,{path:"/login",element:Object(j.jsx)(b,{})}),Object(j.jsx)(o.a,{path:"/user",element:Object(j.jsx)(h,{})}),Object(j.jsx)(o.a,{path:"/form",element:Object(j.jsx)(u,{})}),Object(j.jsx)(o.a,{path:"/dashboard",element:Object(j.jsx)(v,{})}),Object(j.jsx)(o.a,{path:"/transactionlist",element:Object(j.jsx)(O,{})}),Object(j.jsx)(o.a,{path:"/signup",element:Object(j.jsx)(g,{})}),Object(j.jsx)(o.a,{path:"*",element:Object(j.jsx)(m,{})})]})})})};var f=e=>{e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((t=>{let{getCLS:c,getFID:n,getFCP:r,getLCP:s,getTTFB:a}=t;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),f()}},[[14,1,2]]]);
//# sourceMappingURL=main.20544d3c.chunk.js.map